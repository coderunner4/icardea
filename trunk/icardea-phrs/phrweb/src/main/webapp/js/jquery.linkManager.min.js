/**
 * Copyright (c) 2010 - 2011 Ewen Elder Licensed under the MIT and GPL licenses: http://www.opensource.org/licenses/mit-license.php http://www.gnu.org/licenses/gpl.html
 * @author: Ewen Elder <glomainn at yahoo dot co dot uk> <ewen at jainaewen dot com>
 * @version:1.0.1 (2011-07-18)
 */
(function(e){e.fn.linkManager=function(b){var g,h,a,d,c,f,i,b=e.extend({},e.linkManager.defaults,b);return e(this).each(function(){e(this).find(b.selector).each(function(){h=e(this);a=h.attr("href").replace("http://","");d=a.indexOf("/")>-1?a.substr(0,a.indexOf("/")):a;d=d.indexOf("?")>-1?d.substr(0,a.indexOf("?")):d;d=d.indexOf("#")>-1?d.substr(0,a.indexOf("#")):d;c=a.indexOf("/")>-1?a.substr(a.indexOf("/"),a.length):"";c=c.indexOf("?")>-1?c.substr(0,c.indexOf("?")):c;c=c.indexOf("#")>-1?c.substr(0, c.indexOf("#")):c;f=a.indexOf("?")>-1?a.substr(a.indexOf("?")+1):"";f=f.indexOf("#")>-1?f.substr(0,f.indexOf("#")):f;i=a.indexOf("#")>-1?a.substr(a.indexOf("#")+1):"";g=d!==window.location.hostname?!0:!1;e(b.include).each(function(){if(!g&&(b.usePathname&&c.indexOf(this)>-1||b.useQuerystring&&f.indexOf(this)>-1||b.useHash&&i.indexOf(this)>-1))g=!0});e(b.exclude).each(function(){if(b.useDomain&&d.indexOf(this)>-1||b.usePathname&&c.indexOf(this)>-1||b.useQuerystring&&f.indexOf(this)>-1||b.useHash&& i.indexOf(this)>-1)g=!1});d.length&&g&&h.attr("target",b.target)})})};e.linkManager={version:1.1,defaults:{selector:"a:not([href=#])",target:"_blank",include:[],exclude:[],useDomain:!0,usePathname:!0,useQuerystring:!0,useHash:!1}}})(jQuery);