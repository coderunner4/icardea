<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<f:view contentType="text/html">

	<!-- primefaces.prime.com.tr/ui 	  for 3.0  http://primefaces.org/ui
	http://www.javabeat.net/tips/72-how-to-use-hselectoneradio-inside-hdatatabl.html
	http://www.javabeat.net/tips/43-how-to-use-hselectbooleancheckbox-within-hd.html
	-->
	<h:head>
		<f:facet name="first">
			<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
			<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
		</f:facet>

		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/default.css" />

		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/syntaxhighlighter/syntaxhighlighter.css" />

		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/extend.css" />
			
		<script type="text/javascript" src="#{request.contextPath}/js/prime_extend.js"/>

		<ui:insert name="head"></ui:insert>
	</h:head>

	<h:body>
<!-- 
				<div align="left" style="display:inline-block;">			
					<image src="/img/iCardeaLogosm.png" width="100px" />				
					<label value="PHR"  style="vertical-align:top;color:#0C7A9A;margin-right:10px;font-size:15px;font-weight:bold" />
					
				</div>

 -->
		<p:layout fullPage="true">
			<p:layoutUnit position="top"  
				rendered="#{param['sidebar'] == null}"
				height="25">
				<div style="display: inline-block">
					<p:spacer width="20"/>
					<h:graphicImage value="/img/iCardeaLogosm.png" width="100"/>
					<h:outputText value="PHR" style="color:#0C7A9A;vertical-align:top;margin-right:10px;font-size:15px;font-weight:bold"/>
				</div>	
			</p:layoutUnit>
			<p:layoutUnit position="bottom" 
				height="50" 
				fullPage="true" rendered="#{param['sidebar'] == null}"
				footer="true">
					<ui:insert name="status">
						<p:ajaxStatus
							style="width:32px;height:32px;display:block;position:fixed;right:0;top:0;">
							<f:facet name="start">
								<p:graphicImage value="/images/loading.gif" />
							</f:facet>
			
							<f:facet name="complete">
								<h:outputText value="" />
							</f:facet>
						</p:ajaxStatus>
					</ui:insert>
			</p:layoutUnit>
			<!--  side bar includes login/logout and request authenticated user to access menu -->
			<p:layoutUnit position="left"  
				width="250"  
				rendered="#{param['sidebar'] == null}"
				collapsible="true" gutter="false" 
				scrollable="false" 
				resizable="true">
				<ui:include src="/sections/menunavigator.xhtml" />

			</p:layoutUnit>
			<!--<p:layoutUnit position="right" header="RIGHT" width="200">
				<h:outputText value="Right Content" />
			</p:layoutUnit> -->
			
			 <!-- restrict access to center content area -->
			<p:layoutUnit position="center" rendered="#{loginBean.loggedIn eq false}">
				<div id="content" class="ui-widget"  style="width:100%;" >
				     
					<h:outputLabel  value="#{labels['authenticate_login_please']}"
							styleClass="form-dialog-label" />


                    <h:panelGroup rendered="#{loginBean.loggedIn eq false}" >
                            <h:form>
                                <h:panelGrid columns="2">
                                    <h:outputLabel value="Login with "/>
                                    <h:selectOneMenu value="#{loginBean.loginType}"
                                                     required="true"
                                                     requiredMessage="Please choose one option, a local or iCARDEA login name">
                                        <f:selectItem label="... Please Choose ..." noSelectionOption="true" itemValue=""/>
                                        <f:selectItem itemLabel="Local login name (phrtest, nurse)"     itemValue="local.provider.1"/>
                                        <f:selectItem itemLabel="iCARDEA login name"   itemValue="openid.provider.1"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel value="User ID "/>
                                    <p:inputText value="#{loginBean.username}" size="60"
                                             id="login_username"
                                             required="true"
                                             requiredMessage="Please provide your login identifier"/>

                                    <h:outputLabel value=" "/>
                                    <p:commandButton value="Login"  title="Login" update="msgs"  ajax="false"
                                             actionListener="#{loginBean.processLogin}"/>
                                </h:panelGrid>
                            </h:form>
                    </h:panelGroup>

				</div>
			</p:layoutUnit>	
			
			<!-- restrict access to center content area -->	
			<p:layoutUnit position="center" rendered="#{loginBean.loggedIn eq true}" >
				<div id="content" class="ui-widget"  style="width:100%;" >				
					<ui:insert name="content">...</ui:insert>
				</div>
			</p:layoutUnit>
		</p:layout>
		<!-- no sidebar or layout 
		<h:panelGrid rendered=" {param['sidebar']} == 'no'">
			<div id="content" class="ui-widget">
				<ui:insert name="content">...</ui:insert>
			</div>
		</h:panelGrid>-->
	</h:body>
</f:view>
<!-- 	
		
		<div id="wrapper">
			<p:panel visible="false" >
				sidebar=<h:outputText value=" {param['sidebar']}" />
			</p:panel>
	
			<div id="page">

				<div id="content" class="ui-widget">
					<div class="postxx">
						<ui:insert name="content">...</ui:insert>
					</div>
				</div>


			</div>
		</div>


 -->




</html>
