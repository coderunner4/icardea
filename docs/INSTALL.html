<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=iso-8859-1" />
<meta name="generator" content="AsciiDoc 8.6.4" />
<title>Installation and Configuration for the icardea Interop. Framework</title>
<style type="text/css">
/* Sans-serif font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
div#toctitle,
span#author, span#revnumber, span#revdate, span#revremark,
div#footer {
  font-family: Arial,Helvetica,sans-serif;
}

/* Serif font. */
div.sectionbody {
  font-family: Georgia,"Times New Roman",Times,serif;
}

/* Monospace font. */
tt {
  font-size: inherit;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  font-size: inherit;
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
}

div#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(2);}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Installation and Configuration for the icardea Interop. Framework</h1>
<span id="author">Stelios Sfakianakis</span><br />
<span id="email"><tt>&lt;<a href="mailto:ssfak@ics.forth.gr">ssfak@ics.forth.gr</a>&gt;</tt></span><br />
<span id="revnumber">version 0.8,</span>
<span id="revdate">April 2011</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_prerequisites">Prerequisites</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.mongodb.org/">mongodb</a> is the database management system
  (of the <a href="http://en.wikipedia.org/wiki/NoSQL">noSQL</a> genre) used to
  store the EHR data. At the <tt>tools_resources</tt> directory you can find
  a zip file of the most recent stable version of mongoDb for Windows
  32bit.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">As described <a href="http://blog.mongodb.org/post/137788967">here</a>
         <em>'MongoDB uses memory-mapped files for data storage, so for
         servers managing more than 2GB of data you will definitely
         need the 64 bit version (and a 64 bit version of Windows).</em>'</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.python.org/getit/">Python</a>. You need to install Python
  version 2.6 or 2.7 which is the most current (in the 2.x branch&#8201;&#8212;&#8201;  the code has not been tested with 3.x) at the time of this
  writing. You can find the setup of the most recent Python version
  (2.7.1, at the for time of this writing) for Windows 32bit in
  the <tt>tools_resources/python</tt> directory.
</p>
</li>
<li>
<p>
The python code requires some additional libraries:
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
<a href="http://pypi.python.org/pypi/setuptools">EasyInstall</a> will make more
    easy the installation of the additional libraries. You can find a
    setup for Windows 32bit in <tt>tools_resources/python</tt> directory.
</p>
</li>
<li>
<p>
<a href="http://lxml.de/installation.html">lxml</a> You can find a setup for
    Windows 32bit in <tt>tools_resources/python</tt> directory. Alternatively
    you can install it by issuing <span class="footnote"><br />[NOTE: In Linux lxml
    requires libxml2 and libxslt to be properly installed so you 'd
    better install these with the package management tool of your
    Linux distribution (e.g. apt-get in Debian/Ubuntu) to look for
    packages like libxml2-dev or libxslt-devel if the build with the
    easy_install fails by issuing]<br /></span>
</p>
<div class="literalblock">
<div class="content">
<pre><tt>easy_install lxml</tt></pre>
</div></div>
</li>
<li>
<p>
<a href="http://pypi.python.org/pypi/gevent">gevent</a> <span class="footnote"><br />[In Linux (and
    other *nix systems) it also requires the installation of
    libevent.]<br /></span>  You can find a setup for each of these libs (greenlet
    and gevent) for Windows 32bit in <tt>tools_resources/python</tt>
    directory. Alternatively you can install them by issuing
</p>
<div class="literalblock">
<div class="content">
<pre><tt>easy_install greenlet
easy_install gevent</tt></pre>
</div></div>
</li>
<li>
<p>
<a href="http://www.cherrypy.org/">cherrypy</a> (version 3.1.2) You can find a setup for
    Windows 32bit in <tt>tools_resources/python</tt> directory. Alternatively
    you can install it by issuing
</p>
<div class="literalblock">
<div class="content">
<pre><tt>easy_install "cherrypy==3.1.2"</tt></pre>
</div></div>
</li>
<li>
<p>
<a href="http://pypi.python.org/pypi/pymongo/">pymongo</a> by issuing
</p>
<div class="literalblock">
<div class="content">
<pre><tt>easy_install pymongo</tt></pre>
</div></div>
</li>
</ol></div>
</li>
</ul></div>
<div class="sect2">
<h3 id="_configuration">Configuration</h3>
<div class="ulist"><ul>
<li>
<p>
Change the line "MONGO_HOST=&#8230;" in <tt>xds_config.py</tt> if mongodb is
  installed in a different machine instead of localhost.
</p>
</li>
<li>
<p>
Change the configuration in the file <tt>config.ini</tt> in the <tt>hl7</tt> folder
</p>
</li>
<li>
<p>
&#8230;
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="run">Run</h3>
<div class="ulist"><ul>
<li>
<p>
First of all you have to launch the mongodb database server. You
  have to launch a command prompt and <tt>cd</tt> to the folder where you
  have unzipped the distribution. For the now on I am assuming that
  you have unzip MongoDB in the <tt>c:\mongodb</tt> directory. In the home
  directory of the MongoDB you can find a <tt>bin</tt> subdirectory that
  contains various executable files.
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
Create a <tt>data</tt> subdirectory inside the <tt>bin</tt> folder. This is the
    <em>dbpath</em> and all the MongoDB databases will be persisted there.
</p>
</li>
<li>
<p>
Create a <tt>mongodb.conf</tt> with the following contents (you need to
    adjust properly for the <em>dbpath</em> variable, see
    <a href="http://www.mongodb.org/display/DOCS/File+Based+Configuration">here</a>
    for more details):
</p>
<div class="literalblock">
<div class="content">
<pre><tt>journal = true
dbpath = C:\mongodb\bin\data
directoryperdb = true
rest = true</tt></pre>
</div></div>
</li>
<li>
<p>
Launch (in the command line) the <em>mongod</em> executable by issuing
</p>
<div class="literalblock">
<div class="content">
<pre><tt>mongod -f mongodb.conf</tt></pre>
</div></div>
</li>
<li>
<p>
You 're ready! You can also check the web interface of MongoDB at
    <a href="http://localhost:28017/">http://localhost:28017/</a> to see its status.
</p>
</li>
</ol></div>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Running MongoDB as Windows Service</div>
<div class="paragraph"><p>In Windows you can
<a href="http://www.mongodb.org/display/DOCS/Windows+Service">install MongoDB to
run as a service</a>:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>mongod --journal --dbpath &lt;full path to the data folder&gt; --logpath &lt;full path to a log file&gt; --logappend --directoryperdb --install</tt></pre>
</div></div>
<div class="paragraph"><p>You can then start it from the Windows Services settings
application or by issuing</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>mongod --service</tt></pre>
</div></div>
</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
Start XDS by issuing (in a command line window):
</p>
<div class="literalblock">
<div class="content">
<pre><tt>python xds.py</tt></pre>
</div></div>
</li>
<li>
<p>
Start Update Broker by issuing (in a command line window):
</p>
<div class="literalblock">
<div class="content">
<pre><tt>python ub.py</tt></pre>
</div></div>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_the_components">Testing the components</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can find more details about the testing of the components in the
<a href="TESTING_XDS.html">TESTING_XDS</a> and
<a href="TESTING_PCC.html">TESTING_PCC</a> files.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 0.8<br />
Last updated 2011-05-26 17:02:40 GTB Daylight Time
</div>
</div>
</body>
</html>
