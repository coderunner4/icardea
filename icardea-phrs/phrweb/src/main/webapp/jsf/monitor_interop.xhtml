<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                template="/templates/template_ui.xhtml">

    <ui:define name="head">


        <style type="text/css">
            .table.innertable td {
                border: 0;
            }
        </style>
        <ui:insert name="head"></ui:insert>
    </ui:define>
    <!--
    <h:outputLabel value="#{theItem.label}" />
    <h:outputLabel  value="#{item.resourceType}"/>
    <h:outputLabel value="#{item.label}"/>
    <h:outputLabel  value="#{item.code}"/>
    <h:outputLabel  value="#{item.summary}"/>

    <h:outputLabel value="#{item.status}"/>
    <h:outputLabel value="#{item.statusStandard}"/>

    <h:outputLabel value="#{item.PID}"/>
    <h:outputLabel value="#{item.ownerUri}"/>

    commandImportMessages
    commandProcessIdentifier
    pixQueryIdType
    pixQueryIdUser 
    pidPix
    pidUser

    selectedResourceType
    -->

    <ui:define name="content">
         <p:fieldset legend="Import Health Data"> 
          There might be Electronic Health Records at the hospital that can be imported into this PHR system.
          <br/>
         Please Provide either your CIED Implant identifier or your patient identifier. 
         <br/>
         Your Patient ID will be determined for sending and receiving data from the hospital.
        The status column indicates whether or not your patient identifier was found.


        <p:messages/>
        <p:growl id="msgs" showDetail="true"/>

        <h:form>
            <h:panelGrid columns="3">
                <f:facet name="header">
                    
                    <h:outputLabel value="ID Type"/>
                    <h:outputLabel value="Code"/>
                    <h:outputLabel value="Status"/>
                 <!-- 
                      <p:column headerText="ID Type"/>
                      <p:column headerText="Code"/>
                      <p:column headerText="Status"/>-->
                 
                </f:facet>
        
                <p:row>
                  <!--
                  <h:panelGroup rendered=" {interopBean.modify eq 'no'}"> 
                  
                        <h:outputLabel value=" {interopBean.pixQueryIdType}"/>
                        <h:outputLabel value=" {interopBean.pixQueryIdUser}"/>
                  </h:panelGroup>
                  rendered=" {interopBean.modify eq 'yes'}"
                  -->

                        <h:panelGroup>                
                            <h:selectOneMenu value="#{interopBean.pixQueryIdType}"
                                            id="field_pixQueryIdType_input"
                                            rendered="#{interopBean.modify eq 'yes'}"
                                            required="true">

                                <f:selectItem itemLabel="Please Select Identifier type..." noSelectionOption="true"
                                            itemValue=""/>
                                <f:selectItem itemLabel="Implant model:Maximo"
                                            itemValue="cied:model:Maximo"/>
                                <f:selectItem itemLabel="Patient ID"
                                            itemValue="pid"/>
                            </h:selectOneMenu>

                            <p:message for="field_pixQueryIdType_input" display="text"/>
                        </h:panelGroup>
                        

                        <h:panelGroup> 
                            <p:inputText value="#{interopBean.pixQueryIdUser}"
                                        id="field_pixQueryIdUser_input"
                                        required="true" 
                                        requiredMessage="#{labels['default_required_field']}"/>

                            <p:message for="field_pixQueryIdUser_input" display="text"/>                           
                        </h:panelGroup>
                  
                         <h:outputLabel value="#{interopBean.statusMessagePid}"/>
                  
                </p:row>

                <p:row>                 
                        <h:outputLabel value="Update your identifier"/>

                        <p:commandButton immediate="true"
                                         value="Update"
                                         rendered="#{interopBean.allowCommandIdentify}"
                                         title="Submit"
                                         image="ui-icon-plus"
                                         actionListener="#{interopBean.commandProcessIdentifier}"
                                         />
                        <h:outputLabel value=" "/>
                </p:row>

            </h:panelGrid>
        </h:form>

        <h:form>

            <p:toolbar>
                <p:toolbarGroup align="left">
                    <h:form>
                        <p:commandButton immediate="true"
                                         value="Import Data"
                                         image="ui-icon-plus"
                                         actionListener="#{interopBean.commandImportMessages}"
                                />
                        Import the following health records from the Hospital
                    </h:form>
                    <!--
                                   <p:commandButton immediate="true"
                                         value="Import"
                                         rendered="#{interopBean.allowCommandImport}"
                                         title="Import New Info"
                                         image="ui-icon-plus"
                                         actionListener="#{interopBean.commandImportMessages}"/>

                    <h:form id="frm2">

                        <h:commandButton value="Import h button action"
                                         title="Import New Info"
                                         action="#{interopBean.actionImportMessages}"/>

                    </h:form>
                    <h:form id="frm3">
                        <p:commandButton value="test p button actionListener"
                                         immediate="true"
                                         image="ui-icon-plus"
                                         actionListener="#{interopBean.commandTest}"/>
                    </h:form>

                    <h:form id="frm4">
                        <h:commandButton value="test h button action"
                                         action="#{interopBean.commandTestAction}"/>

                    </h:form>  -->
                </p:toolbarGroup>
            </p:toolbar>
            </h:form> 
         <!-- ajax="false" removed prepend-->
            <h:form>
             <p:dataTable widgetVar="widItemTableMphr" id="idItemTableMphr"
                             var="theItem" value="#{interopBean.modelMain}">



                    <p:column headerText="Type"
                              sortBy="#{theItem.resourceType}">
                        Medication <h:outputLabel value="#{theItem.resourceType}"/>
                        <!--
                          <h:outputLabel value=" {theItem.resourceType}">
                            <f:converter converterId="labelLookup"/>
                        </h:outputLabel>
                        -->
                    </p:column>
                    
                    <p:column headerText="Description" sortBy="#{theItem.label}">
                        <h:outputLabel value="#{theItem.label}"/>
                    </p:column>
                    
                    <p:column headerText="Summary" sortBy="#{theItem.protocolId}"
                              style="width:200px;word-wrap:break-word;">

                        <!--<h:outputText value="#{theItem.summary}"/>-->
                    </p:column>
                    <!--

                            <p:column headerText="User Name" sortBy="#{theItem.label}">
                           <h:outputLabel value=" {theItem.label}" />
                           <h:outputLabel value=" {theItem.code}"/>
                           <h:outputLabel value=" {theItem.summary}"/>

                           <h:outputLabel value=" {theItem.status}"/>
                           <h:outputLabel value=" {theItem.statusStandard}"/>

                           <h:outputLabel value=" {theItem.PID}"/>
                           <h:outputLabel value=" {theItem.ownerUri}"/>
                       </p:column>
                    -->


                </p:dataTable>
            </h:form>
            <p>
                Click here to go to your  
                    <u> 
                    <h:outputLink  value=" {request.contextPath}/jsf/obs_medication_mgt.xhtml"><h:outputText value="Medications List" style="font-size:10pt;"/></h:outputLink>
                    </u>
            </p>
       </p:fieldset>

       
    </ui:define>

</ui:composition>
